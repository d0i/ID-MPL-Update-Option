<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,nofollow" />
    <meta name="creator" content="rfcmarkup version 1.96" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />

    <link rel="icon" href="" type="image/png" />
    <link rel="shortcut icon" href="" type="image/png" />
    <title>draft.txt - MPL Parameter Configuration Option for DHCPv6</title>
    
    
    <style type="text/css">
        body {
            margin: 0px 8px;
            font-size: 1em;
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
            font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
            font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
        .pre {
            white-space: pre;
            font-family: monospace;
        }
        .header{
            font-weight: bold;
        }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 10.5pt;
            }

            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
        @media screen {
            .grey, .grey a:link, .grey a:visited {
                color: #777;
            }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
        }
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
        var spans = document.getElementsByTagName("span");
        for (var i=0; i < spans.length; i++) {
            var elem = spans[i];
            if (elem) {
                var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";               
                }
            }
        }
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>          <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>            <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>    <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>     <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td><td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td><td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard:</td>   <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>         <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>         <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showElem('legend');"
         onmouseout="hideElem('legend')"
         style="height: 6px; position: absolute;"
         class="pre noprint docinfo "
         title="Click for colour legend." >                                                                        </div>
      <div id="legend"
           class="docinfo noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showElem('legend');"
           onmouseout="hideElem('legend');">
      </div>
   </div>

<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<pre>
roll                                                              Y. Doi
Internet-Draft                                       TOSHIBA Corporation
Intended status: Standards Track                             M. Gillmore
Expires: March 5, 2016                                        Itron, Inc
                                                       September 2, 2015


             <span class="h1">MPL Parameter Configuration Option for DHCPv6</span>
             <span class="h1">draft-ietf-roll-mpl-parameter-configuration-08</span>

Abstract

   This document defines a way to configure a parameter set for MPL
   (Multicast Protocol for Low power and Lossy Networks) via a DHCPv6
   option.  MPL has a set of parameters to control its behavior, and the
   parameter set is often configured as a network-wide parameter because
   the parameter set should be identical for each MPL forwarder in an
   MPL domain.  Using the MPL Parameter Configuration Option defined in
   this document, a network can easily be configured with a single set
   of MPL parameters.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of <a href="../../pandoc2rfc/rfcmarkup?bcp=78">BCP 78</a> and <a href="../../pandoc2rfc/rfcmarkup?bcp=79">BCP 79</a>.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at <a href="http://datatracker.ietf.org/drafts/current/">http://datatracker.ietf.org/drafts/current/</a>.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on March 5, 2016.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="../../pandoc2rfc/rfcmarkup?bcp=78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect



<span class="grey">Doi &amp; Gillmore            Expires March 5, 2016                 [Page 1]</span>
</pre><pre class='newpage'><a name="page-2" id="page-2" href="#page-2" class="invisible"> </a>
<span class="grey">Internet-Draft            MPL Conf. for DHCPv6            September 2015</span>


   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in <a href="#section-4">Section 4</a>.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  MPL Parameter Configuration Option  . . . . . . . . . . . . .   <a href="#page-3">3</a>
     <a href="#section-2.1">2.1</a>.  MPL Parameter Configuration Option Format . . . . . . . .   <a href="#page-3">3</a>
     <a href="#section-2.2">2.2</a>.  DHCPv6 Client Behavior  . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
     <a href="#section-2.3">2.3</a>.  MPL Forwarder Behavior  . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-2.4">2.4</a>.  DHCPv6 Server Behavior  . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-2.5">2.5</a>.  DHCPv6 Relay Behavior . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-2.6">2.6</a>.  Operational Considerations  . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
   <a href="#section-3">3</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
   <a href="#section-4">4</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
   <a href="#section-5">5</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-5.1">5.1</a>.  Normative References  . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-5.2">5.2</a>.  Informative References  . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
   <a href="#appendix-A">Appendix A</a>.  Update History (TO EDITORS: this section is intended
                to be removed before this document becomes an RFC) .   9
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>

<span class="h2"><a name="section-1">1</a>.  Introduction</span>

   Multicast Protocol for Low power and Lossy Networks (MPL)
   [<a href="#ref-I-D.ietf-roll-trickle-mcast">I-D.ietf-roll-trickle-mcast</a>] defines a protocol to make a multicast
   network among low-power and lossy networks, e.g., wireless mesh
   networks.  MPL has a set of parameters to control an MPL domain.  The
   parameters control the trade-off between end-to-end delay and network
   utilization.  In most environments, the default parameters are
   acceptable.  However, in some environments, the parameter set must be
   configured carefully in order to meet the requirements of each
   environment.  According to the MPL document <a href="#section-5.4">section 5.4</a>, each
   parameter in the set should be the same for all nodes within an MPL
   domain, but the MPL document does not define a method to configure
   the MPL parameter set.

   Some managed wireless mesh networks may have a DHCP server to
   configure network parameters.  MPL parameter sets shall be considered
   as a part of network parameters (nodes in an MPL domain should use an
   identical parameter set).  And a parameter set is required to
   configure an MPL domain.

   This document defines the way to distribute parameter sets for MPL
   forwarders as a DHCPv6 [<a href="../../pandoc2rfc/rfcmarkup?rfc=3315" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>] option.  This document is intended
   to follow [<a href="../../pandoc2rfc/rfcmarkup?rfc=7227" title='"Guidelines for Creating New DHCPv6 Options"'>RFC7227</a>] the guideline.



<span class="grey">Doi &amp; Gillmore            Expires March 5, 2016                 [Page 2]</span>
</pre><pre class='newpage'><a name="page-3" id="page-3" href="#page-3" class="invisible"> </a>
<span class="grey">Internet-Draft            MPL Conf. for DHCPv6            September 2015</span>


   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="../../pandoc2rfc/rfcmarkup?rfc=2119" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a name="section-2">2</a>.  MPL Parameter Configuration Option</span>

   As stated in Section 5.4 of [<a href="#ref-I-D.ietf-roll-trickle-mcast">I-D.ietf-roll-trickle-mcast</a>], there are
   the following 10 parameters per MPL domain.  An MPL domain is defined
   by an MPL domain address, as described in Section 2 of
   [<a href="#ref-I-D.ietf-roll-trickle-mcast">I-D.ietf-roll-trickle-mcast</a>].

   o  PROACTIVE_FORWARDING

   o  SEED_SET_ENTRY_LIFETIME

   o  DATA_MESSAGE_IMIN

   o  DATA_MESSAGE_IMAX

   o  DATA_MESSAGE_K

   o  DATA_MESSAGE_TIMER_EXPIRATIONS

   o  CONTROL_MESSAGE_IMIN

   o  CONTROL_MESSAGE_IMAX

   o  CONTROL_MESSAGE_K

   o  CONTROL_MESSAGE_TIMER_EXPIRATIONS

   One network may have multiple MPL domains with different
   configurations.  To configure more than one MPL domain via DHCP,
   there may be more than one MPL Parameter Configuration Option given
   to DHCP clients by a DHCP server.

<span class="h3"><a name="section-2.1">2.1</a>.  MPL Parameter Configuration Option Format</span>

   To distribute a configuration of an MPL domain or a default value for
   all MPL domains (wildcard) under the network managed by the DHCP
   server, this document defines a DHCPv6 option format as follows.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    OPTION_MPL_PARAMETERS      |          option_len           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |P|     Z       |     TUNIT     |            SE_LIFETIME        |



<span class="grey">Doi &amp; Gillmore            Expires March 5, 2016                 [Page 3]</span>
</pre><pre class='newpage'><a name="page-4" id="page-4" href="#page-4" class="invisible"> </a>
<span class="grey">Internet-Draft            MPL Conf. for DHCPv6            September 2015</span>


   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    DM_K       |         DM_IMIN               |     DM_IMAX   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         DM_T_EXP              |      C_K      |    C_IMIN     &gt;
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   &gt;(cont'ed)      |    C_IMAX     |          C_T_EXP              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   (if option_len = 32 )
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          MPL Domain Address  (128bits)                        &gt;
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   &gt;          (cont'ed)                                            &gt;
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   &gt;          (cont'ed)                                            &gt;
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   &gt;          (cont'ed)                                            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   OPTION_MPL_PARAMETERS:  DHCPv6 option identifier (not yet assigned).

   option_len:  Length of the option.  It SHOULD be 16 (without MPL
      domain address) or 32 (with MPL domain address).

   P (1 bit):  A flag to indicate PROACTIVE_FORWARDING.  The flag is set
      if PROACTIVE_FORWARDING is true.

   Z (7 bits):  Reserved for future use.  Servers MUST set them to zero.
      Clients SHOULD ignore the bits set.

   TUNIT (unsigned 8-bit integer):  Unit time of timer parameters
      (SE_LIFETIME, and *_IMIN) in this option. 0 and 0xff are reserved
      and MUST NOT be used.

   SE_LIFETIME (unsigned 16-bit integer):  SEED_SET_ENTRY_LIFETIME/TUNIT
      in milliseconds. 0 and 0xffff are reserved and MUST NOT be used.

   DM_K (unsigned 8-bit integer):  DATA_MESSAGE_K.

   DM_IMIN (unsigned 16-bit integer):  DATA_MESSAGE_IMIN/TUNIT in
      milliseconds. 0 and 0xffff are reserved and MUST NOT be used.

   DM_IMAX (unsigned 8-bit integer):  DATA_MESSAGE_IMAX.  The actual
      maximum timeout is described as a number of doublings of
      DATA_MESSAGE_IMIN, as described in <a href="../../pandoc2rfc/rfcmarkup?rfc=6206#section-4.1">[RFC6206] Section&nbsp;4.1</a>. 0 and
      0xff are reserved and MUST NOT be used.





<span class="grey">Doi &amp; Gillmore            Expires March 5, 2016                 [Page 4]</span>
</pre><pre class='newpage'><a name="page-5" id="page-5" href="#page-5" class="invisible"> </a>
<span class="grey">Internet-Draft            MPL Conf. for DHCPv6            September 2015</span>


   DM_T_EXP (unsigned 16-bit integer):  DATA_MESSAGE_TIMER_EXPIRATIONS.
      0 and 0xffff are reserved and MUST NOT be used.

   C_K (unsigned 8-bit integer):  CONTROL_MESSAGE_K.

   C_IMIN (unsigned 16-bit integer):  CONTROL_MESSAGE_IMIN/TUNIT in
      milliseconds. 0 and 0xffff are reserved and MUST NOT be used.

   C_IMAX (unsigned 8-bit integer):  CONTROL_MESSAGE_IMAX.  The actual
      maximum timeout is described as a number of doublings of
      CONTROL_MESSAGE_IMIN.  0 and 0xff are reserved and MUST NOT be
      used.

   C_T_EXP (unsigned 16-bit integer):  CONTROL_MESSAGE_TIMER_EXPIRATIONS
      . 0 and 0xffff are reserved and MUST NOT be used.

   Note that the time values (SEED_SET_ENTRY_LIFETIME,
   DATA_MESSAGE_IMIN, and CONTROL_MESSAGE_IMIN) in MPL are defined in
   TUNIT milliseconds precision in MPL Parameter Configuration Options.
   For example, if TUNIT is 20 and the data message interval minimum
   (DATA_MESSAGE_IMIN) is 1000ms, then DM_IMIN shall be set to 50.

   For maximum interval size (*_IMAX), [<a href="../../pandoc2rfc/rfcmarkup?rfc=6206" title='"The Trickle Algorithm"'>RFC6206</a>] defines them as
   follows:

      The maximum interval size, Imax, is described as a number of
      doublings of the minimum interval size (the base-2 log(max/min)).
      For example, a protocol might define Imax as 16.  If the minimum
      interval is 100 ms, then the amount of time specified by Imax is
      100 ms * 65,536, i.e., 6,553.6 seconds or approximately 109
      minutes.

   Because minimum interval size in the MPL Parameter Configuration
   Options is described as TUNIT millisecond precision, corresponding
   maximum interval size is also in TUNIT precision.  For example, if
   TUNIT is 10 and C_IMIN is 50, the minimum interval size of the
   trickle timer for control messages is 500ms.  In this case, the
   maximum interval size of the trickle timer is 32 seconds (500ms *
   2^6) if C_IMAX is 6.

<span class="h3"><a name="section-2.2">2.2</a>.  DHCPv6 Client Behavior</span>

   Clients MAY request the MPL Parameter Configuration Option, as
   described in [<a href="../../pandoc2rfc/rfcmarkup?rfc=3315" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>], sections <a href="#section-17.1.1">17.1.1</a>, <a href="#section-18.1.1">18.1.1</a>, <a href="#section-18.1.3">18.1.3</a>, <a href="#section-18.1.4">18.1.4</a>,
   18.1.5, and 22.7.  As a convenience to the reader, we mention here
   that the client includes requested option codes in the Option Request
   Option.




<span class="grey">Doi &amp; Gillmore            Expires March 5, 2016                 [Page 5]</span>
</pre><pre class='newpage'><a name="page-6" id="page-6" href="#page-6" class="invisible"> </a>
<span class="grey">Internet-Draft            MPL Conf. for DHCPv6            September 2015</span>


   Clients MUST support multiple MPL Parameter Configuration Option, as
   stated in <a href="#section-2">section 2</a>.

   If a DHCPv6 client with an MPL forwarder configured by the MPL
   Parameter Configuration Option is unable to receive a valid response
   from a server within T2 of the last valid DHCPv6 message sent from
   the server (if stateful) or twice the Information Refresh Time (if
   stateless), it MUST suspend the MPL forwarders of the MPL domains
   configured by the option.  MPL forwarders configured by other methods
   such as static configuration file MUST NOT be suspended.

   Clients MUST ignore all MPL Parameter Configuration Options if the
   options in a DHCPv6 message contains any invalid value (e.g., it uses
   reserved all-0 or all-1 values in parameters).  In this case, the
   message is considered not received in MPL context and the condition
   described in the previous paragraph applies.

<span class="h3"><a name="section-2.3">2.3</a>.  MPL Forwarder Behavior</span>

   If a DHCPv6 client requests and receives the MPL Parameter
   Configuration Option, the node SHOULD join the MPL domain given by
   the option and act as an MPL forwarder.  Note that there may be cases
   in which a node may fail to join a domain (or domains) due to local
   resource constraints.  Each joining node SHOULD configure its MPL
   forwarder with the given parameter set for the MPL domain.

   The priority of MPL Parameter Configurations applied to an MPL Domain
   is as follows (high to low):

   o  Specific MPL Parameter Configuration to the MPL Domain
      (option_len=32)

   o  Wildcard MPL Parameter Configuration (option_len=16)

   o  Default configuration given in the MPL specification.

   Priority of other configurations such as manual configuration given
   on a node is not defined in the document.

   There MUST be no more than one MPL Parameter Configuration Option for
   an MPL domain or the wildcard.  Thus, the order of DHCPv6 options in
   the packet has no effect on precedence.

   A node MUST leave an MPL domain if it receives an updated and all-
   valid MPL Parameter Configuration Options without a configuration for
   the MPL domain, unless it has overriding manual configuration on the
   MPL domain.  In other words, if a node is configured to work as a MPL
   Forwarder for a MPL domain regardless of DHCPv6 Options, the node MAY



<span class="grey">Doi &amp; Gillmore            Expires March 5, 2016                 [Page 6]</span>
</pre><pre class='newpage'><a name="page-7" id="page-7" href="#page-7" class="invisible"> </a>
<span class="grey">Internet-Draft            MPL Conf. for DHCPv6            September 2015</span>


   stay on the MPL domain even if it receives an MPL Parameter
   Configuration Option without configuration for the MPL domain.

   MPL parameters may be updated occasionally.  With stateful DHCPv6,
   updates can be done when the renewal timer expires.  Information
   Refresh Time Option [<a href="../../pandoc2rfc/rfcmarkup?rfc=4242" title='"Information Refresh Time Option for Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC4242</a>] shall be used to keep each forwarder
   updated.

   To reduce periodic update traffic, a node may try to use a very long
   interval between updates.  In this case, reconfigure messages may be
   used to keep forwarder parameter sets synchronized.

<span class="h3"><a name="section-2.4">2.4</a>.  DHCPv6 Server Behavior</span>

   Sections <a href="#section-17.2.2">17.2.2</a> and <a href="#section-18.2">18.2</a> of [<a href="../../pandoc2rfc/rfcmarkup?rfc=3315" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>] govern server operation in
   regards to option assignment.  As a convenience to the reader, we
   mention here that the server will send the MPL Parameter
   Configuration Option only if it was configured with specific values
   for the MPL Parameter Configuration Option and the client requested
   it.

   Servers MUST ignore an incoming MPL Parameter Configuration Option.
   Servers MUST support multiple MPL Parameter Configuration Option, as
   stated in <a href="#section-2">section 2</a>.

<span class="h3"><a name="section-2.5">2.5</a>.  DHCPv6 Relay Behavior</span>

   It's never appropriate for a relay agent to add options to a message
   heading toward the client, and relay agents don't actually construct
   Relay-Reply messages anyway.  There are no additional requirements
   for relays.

<span class="h3"><a name="section-2.6">2.6</a>.  Operational Considerations</span>

   [<a name="ref-RFC6206" id="ref-RFC6206">RFC6206</a>] <a href="#section-6">section 6</a> describe various problems that happens if the
   trickle timers do not match between communicating nodes.  To keep the
   timers synchronized, it is RECOMMENDED not to update the parameters
   of an MPL domain too often.  A reasonable update rate would be once
   per expected information refresh time interval, such as T1 in
   [<a href="../../pandoc2rfc/rfcmarkup?rfc=3315" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>] or Information Refresh Time in [<a href="../../pandoc2rfc/rfcmarkup?rfc=4242" title='"Information Refresh Time Option for Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC4242</a>].

   This draft introduces dynamic update of MPL parameters.  Because the
   update process is not synchronized, nodes may have inconsistent
   parameter sets.

   Inconsistent parameter sets may reduce performance.  On the other
   hand, this situation will work as long as both new and old parameter
   sets are reasonable parameter sets for a given communication load.



<span class="grey">Doi &amp; Gillmore            Expires March 5, 2016                 [Page 7]</span>
</pre><pre class='newpage'><a name="page-8" id="page-8" href="#page-8" class="invisible"> </a>
<span class="grey">Internet-Draft            MPL Conf. for DHCPv6            September 2015</span>


   As the motivations for parameter update include update of the
   environment, node density, or communication load, operators of MPL
   networks shall be aware of unupdated nodes and make sure old and new
   parameter sets are reasonable for the expected refresh intervals.

<span class="h2"><a name="section-3">3</a>.  IANA Considerations</span>

   IANA is requested to assign one option code for OPTION_MPL_PARAMETERS
   from the "DHCP Option Codes" table of the Dynamic Host Configuration
   Protocol for IPv6 (DHCPv6) Registry (<a href="http://www.iana.org/assignments/">http://www.iana.org/assignments/</a>
   dhcpv6-parameters).

<span class="h2"><a name="section-4">4</a>.  Security Considerations</span>

   There are detailed discussion on security threats on DHCPv6 in
   <a href="../../pandoc2rfc/rfcmarkup?rfc=3315#section-23">Section&nbsp;23 of RFC3315</a> [<a href="../../pandoc2rfc/rfcmarkup?rfc=3315" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>], <a href="../../pandoc2rfc/rfcmarkup?rfc=7227#section-23">Section&nbsp;23 of RFC7227</a> [<a href="../../pandoc2rfc/rfcmarkup?rfc=7227" title='"Guidelines for Creating New DHCPv6 Options"'>RFC7227</a>], and
   Section 13 of [<a href="#ref-I-D.ietf-roll-trickle-mcast">I-D.ietf-roll-trickle-mcast</a>].

   In addition, a forged MPL parameter configuration may cause excessive
   layer-2 broadcasting.  Implementations should set reasonable bounds
   for each parameter.  For example, not too high DM/C_K, not too low DM
   /C_IMIN, etc.  These bounds may be implementation dependent or may be
   derived from MAC/PHY specifications.  DHCPv6 server and client
   implementations need to take care in setting reasonable bounds for
   each parameter in order to avoid overloading the network.

   The DHCP server or the network itself should be trusted by some means
   such as DHCPv6 authentications described in <a href="../../pandoc2rfc/rfcmarkup?rfc=3315#section-21">Section&nbsp;21 of RFC3315</a>
   [<a href="../../pandoc2rfc/rfcmarkup?rfc=3315" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>].  However, ROLL environment may expect less computing
   resource, and DHCPv6 authentication may not available.  In such
   cases, other methods to protect integrity between DHCPv6 servers and
   clients should be applied to a ROLL network.  Some ROLL specification
   such as ZigBee IP [<a href="#ref-ZigBeeIP">ZigBeeIP</a>] expects <a href="../../pandoc2rfc/rfcmarkup?rfc=5191">RFC5191</a> [<a href="../../pandoc2rfc/rfcmarkup?rfc=5191" title='"Protocol for Carrying Authentication for Network Access (PANA)"'>RFC5191</a>] to
   authenticate joining nodes and all nodes in the network can be
   trusted.  To protect attacks from outside of the network, DHCPv6
   packets SHOULD be filtered on the border router between the ROLL
   network and the Internet, except for the packets between the ROLL
   network and a remote DHCPv6 server or DHCPv6 relays configured to
   manage the network.

<span class="h2"><a name="section-5">5</a>.  References</span>

<span class="h3"><a name="section-5.1">5.1</a>.  Normative References</span>

   [<a name="ref-I-D.ietf-roll-trickle-mcast" id="ref-I-D.ietf-roll-trickle-mcast">I-D.ietf-roll-trickle-mcast</a>]
              Hui, J. and R. Kelsey, "Multicast Protocol for Low power
              and Lossy Networks (MPL)", <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-trickle-mcast-12">draft-ietf-roll-trickle-</a>
              <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-trickle-mcast-12">mcast-12</a> (work in progress), June 2015.



<span class="grey">Doi &amp; Gillmore            Expires March 5, 2016                 [Page 8]</span>
</pre><pre class='newpage'><a name="page-9" id="page-9" href="#page-9" class="invisible"> </a>
<span class="grey">Internet-Draft            MPL Conf. for DHCPv6            September 2015</span>


   [<a name="ref-RFC2119" id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="../../pandoc2rfc/rfcmarkup?bcp=14">BCP 14</a>, <a href="../../pandoc2rfc/rfcmarkup?rfc=2119">RFC 2119</a>, March 1997.

   [<a name="ref-RFC3315" id="ref-RFC3315">RFC3315</a>]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C.,
              and M. Carney, "Dynamic Host Configuration Protocol for
              IPv6 (DHCPv6)", <a href="../../pandoc2rfc/rfcmarkup?rfc=3315">RFC 3315</a>, July 2003.

   [<a name="ref-RFC4242" id="ref-RFC4242">RFC4242</a>]  Venaas, S., Chown, T., and B. Volz, "Information Refresh
              Time Option for Dynamic Host Configuration Protocol for
              IPv6 (DHCPv6)", <a href="../../pandoc2rfc/rfcmarkup?rfc=4242">RFC 4242</a>, November 2005.

   [<a name="ref-RFC6206" id="ref-RFC6206">RFC6206</a>]  Levis, P., Clausen, T., Hui, J., Gnawali, O., and J. Ko,
              "The Trickle Algorithm", <a href="../../pandoc2rfc/rfcmarkup?rfc=6206">RFC 6206</a>, DOI 10.17487/RFC6206,
              March 2011, &lt;<a href="http://www.rfc-editor.org/info/rfc6206">http://www.rfc-editor.org/info/rfc6206</a>&gt;.

   [<a name="ref-RFC7227" id="ref-RFC7227">RFC7227</a>]  Hankins, D., Mrugalski, T., Siodelski, M., Jiang, S., and
              S. Krishnan, "Guidelines for Creating New DHCPv6 Options",
              <a href="../../pandoc2rfc/rfcmarkup?bcp=187">BCP 187</a>, <a href="../../pandoc2rfc/rfcmarkup?rfc=7227">RFC 7227</a>, May 2014.

<span class="h3"><a name="section-5.2">5.2</a>.  Informative References</span>

   [<a name="ref-RFC5191" id="ref-RFC5191">RFC5191</a>]  Forsberg, D., Ohba, Y., Patil, B., Tschofenig, H., and A.
              Yegin, "Protocol for Carrying Authentication for Network
              Access (PANA)", <a href="../../pandoc2rfc/rfcmarkup?rfc=5191">RFC 5191</a>, May 2008.

   [<a name="ref-ZigBeeIP" id="ref-ZigBeeIP">ZigBeeIP</a>]
              ZigBee Alliance, "ZigBee IP Specification", Mar 2014.

<span class="h2"><a name="appendix-A">Appendix A</a>.  Update History (TO EDITORS: this section is intended to be</span>
             removed before this document becomes an RFC)

   Updates on <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-07">draft-ietf-roll-mpl-configuration-07</a> to <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-08">draft-ietf-roll-</a>
   <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-08">mpl-configuration-08</a>:

   o  clarified when to leave (SHOULD-&gt;MUST)

   o  moved Trickle parameter considerations on appendix to operational
      considerations

   o  even clarified some texts

   Updates on <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-06">draft-ietf-roll-mpl-configuration-06</a> to <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-07">draft-ietf-roll-</a>
   <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-07">mpl-configuration-07</a>:

   o  clearly stated multiple option support is mandatory (#171)

   o  operational consideration now refers <a href="../../pandoc2rfc/rfcmarkup?rfc=6206">RFC6206</a> and some texts are
      moved to <a href="#section-2.2">section 2.2</a> (#171)



<span class="grey">Doi &amp; Gillmore            Expires March 5, 2016                 [Page 9]</span>
</pre><pre class='newpage'><a name="page-10" id="page-10" href="#page-10" class="invisible"> </a>
<span class="grey">Internet-Draft            MPL Conf. for DHCPv6            September 2015</span>


   o  added more per-section reference to I-D.ietf-roll-trickle-mcast
      (#171)

   o  field 'Z' clarified (#171, #172)

   o  fixed other nits (#171)

   o  clarified use of TUNIT, *_IMIN, and *_IMAX with reference to
      <a href="../../pandoc2rfc/rfcmarkup?rfc=6206">RFC6206</a> (#172)

   Updates on <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-05">draft-ietf-roll-mpl-configuration-05</a> to <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-06">draft-ietf-roll-</a>
   <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-06">mpl-configuration-06</a>:

   o  added description on manual (external) configurations

   Updates on <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-04">draft-ietf-roll-mpl-configuration-04</a> to <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-05">draft-ietf-roll-</a>
   <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-05">mpl-configuration-05</a>:

   o  fixed *_IMAX definition as <a href="../../pandoc2rfc/rfcmarkup?rfc=6206">RFC6206</a> defines

   o  fixed *_EXP definition as <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-trickle-mcast">draft-ietf-roll-trickle-mcast</a> defines

   o  added references to <a href="../../pandoc2rfc/rfcmarkup?rfc=3315">RFC3315</a> and <a href="../../pandoc2rfc/rfcmarkup?rfc=7227">RFC7227</a> in security considerations
      section

   o  added a paragraph on security consideration according to secdir
      review

   o  fixed some nits and updated references

   Updates on <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-03">draft-ietf-roll-mpl-configuration-03</a> to <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-04">draft-ietf-roll-</a>
   <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-04">mpl-configuration-04</a>:

   o  References updated (Non-normative -&gt; Informative)

   o  IANA section is updated to make clear request of option ID

   o  Reserved numbers are clearly denoted

   Updates on <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-02">draft-ietf-roll-mpl-configuration-02</a> to <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-03">draft-ietf-roll-</a>
   <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-03">mpl-configuration-03</a>:

   o  References updated

   o  Removed reference for DHCPv6 stateless reconfiguration as it has
      expired





<span class="grey">Doi &amp; Gillmore            Expires March 5, 2016                [Page 10]</span>
</pre><pre class='newpage'><a name="page-11" id="page-11" href="#page-11" class="invisible"> </a>
<span class="grey">Internet-Draft            MPL Conf. for DHCPv6            September 2015</span>


   Updates on <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-01">draft-ietf-roll-mpl-configuration-01</a> to <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-02">draft-ietf-roll-</a>
   <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-02">mpl-configuration-02</a>:

   o  Short unsigned floating point is dropped (#159)

   o  Packed value is removed and now every value has its own byte(s)
      (#159)

   Updates on <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-00">draft-ietf-roll-mpl-configuration-00</a> to <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-01">draft-ietf-roll-</a>
   <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-01">mpl-configuration-01</a>:

   o  Operational considerations (normative) and appendix considerations
      (non-normative) are added (Issue #157)

   o  More control on nodes / allow constrained nodes to ignore the
      configuration: "the node s/SHOULD/MAY/ join the MPL domain given
      by the option" (Issue #158)

   Updates on <a href="../../pandoc2rfc/rfcmarkup?draft=draft-doi-roll-mpl-configuration-05">draft-doi-roll-mpl-configuration-05</a> to <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-00">draft-ietf-roll-</a>
   <a href="../../pandoc2rfc/rfcmarkup?draft=draft-ietf-roll-mpl-configuration-00">mpl-configuration-00</a>:

   o  I-D renamed.

Authors' Addresses

   Yusuke Doi
   TOSHIBA Corporation
   Komukai Toshiba Cho 1
   Saiwai-Ku
   Kawasaki, Kanagawa  2128582
   JAPAN

   Phone: +81-45-342-7230
   Email: yusuke.doi@toshiba.co.jp


   Matthew Gillmore
   Itron, Inc
   2111 N Molter Rd.
   Liberty Lake, WA  99019
   USA

   Email: matthew.gillmore@itron.com








Doi &amp; Gillmore            Expires March 5, 2016                [Page 11]

</pre><br />
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.96, available from
<a href="http://tools.ietf.org/tools/rfcmarkup/">http://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>
</body></html>
